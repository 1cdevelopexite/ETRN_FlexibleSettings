ТекстЗапроса = "ВЫБРАТЬ
|	DR_Документы.Ссылка КАК Ссылка,
|	DR_Документы.ИдентификаторДокумента КАК ИдентификаторДокумента,
|	DR_Документы.ИдентификаторЦепочки КАК ИдентификаторЦепочки,
|	DR_ДокументыДополнительныеРеквизиты_ИдОсн.Значение КАК ИдентификаторОснования,
|	DR_Документы.Статус КАК Статус
|ПОМЕСТИТЬ ВТ_ON_TRNACLPPRIN
|ИЗ
|	Документ.DR_Документы КАК DR_Документы
|		ЛЕВОЕ СОЕДИНЕНИЕ Документ.DR_Документы.ДополнительныеРеквизиты КАК DR_ДокументыДополнительныеРеквизиты_ИдОсн
|		ПО DR_Документы.Ссылка = DR_ДокументыДополнительныеРеквизиты_ИдОсн.Ссылка
|			И (DR_ДокументыДополнительныеРеквизиты_ИдОсн.Реквизит = ""Документ_ИдИнфГО_ИдФайлИнфГО"")
|ГДЕ
|	DR_Документы.ВидДокумента = ""ON_TRNACLPPRIN_Входящий""
|;
|
|////////////////////////////////////////////////////////////////////////////////
|ВЫБРАТЬ
|	DR_Документы.Ссылка КАК Ссылка,
|	DR_Документы.ИдентификаторДокумента КАК ИдентификаторДокумента,
|	DR_Документы.ИдентификаторЦепочки КАК ИдентификаторЦепочки,
|	DR_ДокументыДополнительныеРеквизиты_ИдОсн.Значение КАК ИдентификаторОснования,
|	DR_Документы.Статус КАК Статус
|ПОМЕСТИТЬ ВТ_ON_TRNACLGRPO
|ИЗ
|	Документ.DR_Документы КАК DR_Документы
|		ЛЕВОЕ СОЕДИНЕНИЕ Документ.DR_Документы.ДополнительныеРеквизиты КАК DR_ДокументыДополнительныеРеквизиты_ИдОсн
|		ПО DR_Документы.Ссылка = DR_ДокументыДополнительныеРеквизиты_ИдОсн.Ссылка
|			И (DR_ДокументыДополнительныеРеквизиты_ИдОсн.Реквизит = ""ИдентификаторОснования"")
|ГДЕ
|	DR_Документы.ВидДокумента = ""ON_TRNACLGRPO_Исходящий""
|;
|
|////////////////////////////////////////////////////////////////////////////////
|ВЫБРАТЬ
|	DR_Документы.Ссылка КАК Ссылка,
|	DR_Документы.ИдентификаторДокумента КАК ИдентификаторДокумента,
|	DR_Документы.ИдентификаторЦепочки КАК ИдентификаторЦепочки,
|	DR_ДокументыДополнительныеРеквизиты_ИдОсн.Значение КАК ИдентификаторОснования,
|	DR_Документы.Статус КАК Статус
|ПОМЕСТИТЬ ВТ_ON_TRNACLPVYN
|ИЗ
|	Документ.DR_Документы КАК DR_Документы
|		ЛЕВОЕ СОЕДИНЕНИЕ Документ.DR_Документы.ДополнительныеРеквизиты КАК DR_ДокументыДополнительныеРеквизиты_ИдОсн
|		ПО DR_Документы.Ссылка = DR_ДокументыДополнительныеРеквизиты_ИдОсн.Ссылка
|			И (DR_ДокументыДополнительныеРеквизиты_ИдОсн.Реквизит = ""Документ_ИдИнфГП_ИдФайлИнфГП"")
|ГДЕ
|	DR_Документы.ВидДокумента = ""ON_TRNACLPVYN_Входящий""
|;
|
|////////////////////////////////////////////////////////////////////////////////
|ВЫБРАТЬ
|	ВЫБОР
|		КОГДА НЕ DR_Документ_ON_TRNACLPVYN_Входящий.Ссылка ЕСТЬ NULL
|			ТОГДА DR_Документ_ON_TRNACLPVYN_Входящий.Ссылка
|		КОГДА НЕ DR_Документ_ON_TRNACLGRPO_Исходящий.Ссылка ЕСТЬ NULL
|			ТОГДА DR_Документ_ON_TRNACLGRPO_Исходящий.Ссылка
|		КОГДА НЕ DR_Документ_ON_TRNACLPPRIN_Входящий.Ссылка ЕСТЬ NULL
|			ТОГДА DR_Документ_ON_TRNACLPPRIN_Входящий.Ссылка
|		КОГДА НЕ DR_Документ.Ссылка ЕСТЬ NULL
|			ТОГДА DR_Документ.Ссылка
|	КОНЕЦ КАК Документ_Основание,
|	ЕСТЬNULL(DR_Документ.Статус, """") КАК Статус_ON_TRNACLGROT_Входящий,
|	ЕСТЬNULL(DR_Документ_ON_TRNACLPPRIN_Входящий.Статус, """") КАК Статус_ON_TRNACLPPRIN_Входящий,
|	ЕСТЬNULL(DR_Документ_ON_TRNACLGRPO_Исходящий.Статус, """") КАК Статус_ON_TRNACLGRPO_Исходящий,
|	ЕСТЬNULL(DR_Документ_ON_TRNACLPVYN_Входящий.Статус, """") КАК Статус_ON_TRNACLPVYN_Входящий,
|	ЕСТЬNULL(DR_Документ_ON_TRNACLPPRIN_Входящий.Ссылка, ЗНАЧЕНИЕ(Документ.DR_Документы.ПустаяСсылка)) КАК ON_TRNACLPPRIN_Входящий,
//|	"""" КАК Организация,
//|	"""" КАК Грузоотправитель,
//|	"""" КАК Грузоперевозчик,
//|	"""" КАК Грузополучатель,
//|	"""" КАК НомерДокумента,
|	DR_Документ.Дата КАК ДатаДокумента,
|	ВЫБОР
|		КОГДА ЕСТЬNULL(DR_Документ_ON_TRNACLPVYN_Входящий.Статус, ЗНАЧЕНИЕ(Документ.DR_Документы.ПустаяСсылка)) = ""Обработан""
|			ТОГДА ""Груз сдан перевозчиком""
|		КОГДА ЕСТЬNULL(DR_Документ_ON_TRNACLGRPO_Исходящий.Статус, """") = ""Отправлен""
|			ТОГДА ""Груз принят получателем""
|		КОГДА ЕСТЬNULL(DR_Документ_ON_TRNACLPPRIN_Входящий.Статус, """") = ""Обработан""
|			ТОГДА ""Груз принят перевозчиком""
|		КОГДА ЕСТЬNULL(DR_Документ.Статус, """") = ""Обработан""
|			ТОГДА ""Груз сдан отправителем""
|		ИНАЧЕ """"
|	КОНЕЦ КАК СтатусДокумента
|ИЗ
|	Документ.DR_Документы КАК DR_Документ
|		ЛЕВОЕ СОЕДИНЕНИЕ ВТ_ON_TRNACLPPRIN КАК DR_Документ_ON_TRNACLPPRIN_Входящий
|			ЛЕВОЕ СОЕДИНЕНИЕ ВТ_ON_TRNACLGRPO КАК DR_Документ_ON_TRNACLGRPO_Исходящий
|				ЛЕВОЕ СОЕДИНЕНИЕ ВТ_ON_TRNACLPVYN КАК DR_Документ_ON_TRNACLPVYN_Входящий
|				ПО DR_Документ_ON_TRNACLGRPO_Исходящий.ИдентификаторДокумента = DR_Документ_ON_TRNACLPVYN_Входящий.ИдентификаторОснования
|			ПО DR_Документ_ON_TRNACLPPRIN_Входящий.ИдентификаторДокумента = DR_Документ_ON_TRNACLGRPO_Исходящий.ИдентификаторОснования
|		ПО DR_Документ.ИдентификаторДокумента = DR_Документ_ON_TRNACLPPRIN_Входящий.ИдентификаторОснования
|ГДЕ
|	DR_Документ.ВидДокумента = ""ON_TRNACLGROT_Входящий"""; 